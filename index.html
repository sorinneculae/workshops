<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test rol</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
        font-family: Arial, sans-serif;
        margin: 10px;
        background: #f7f7f7;
        line-height: 1.5;
      }

      h1 {
        text-align: center;
        font-size: 1.8rem; /* mai mic pe mobil */
      }

      .question {
        margin-bottom: 15px;
        padding: 10px 30px 20px;
        background: white;
        border-radius: 10px;
      }

      .options label {
        margin-right: 10px;
        display: inline-block;
        margin-bottom: 5px;
      }

      button {
        display: block;
        margin: 20px auto;
        padding: 10px 15px;
        font-size: 1rem;
        border: none;
        border-radius: 8px;
        background: #007bff;
        color: white;
        cursor: pointer;
        width: 90%;  /* ocupÄƒ mai mult pe mobil */
        max-width: 300px; /* nu prea mare pe desktop */
      }

      button:hover {
        background: #0056b3;
      }

      .result, .description {
        margin-top: 20px;
        font-size: 1rem;
        text-align: center;
        padding: 10px;
        background: #fff;
        border-radius: 10px;
      }

      canvas {
        margin-top: 20px;
        width: 100% !important; /* grafice responsive */
        height: auto !important;
      }

      #riasecForm {
        max-width: 600px;
        margin: 0 auto;
        padding: 0 10px;
      }
  </style>
</head>
<body>
  <h1>Test pentru rolul tÄƒu Ã®n echipÄƒ</h1>
  <div class="main">
    <form id="riasecForm"></form>
  </div>
  
  <button type="button" onclick="calculateResult()">DescoperÄƒ rolul tÄƒu Ã®n echipÄƒ ðŸš€</button>
  
  <div id="result" class="result"></div>
  <div id="description" class="description"></div>
  <canvas id="riasecChart" width="400" height="200"></canvas>
  
  <script>
    // Ã®ntrebÄƒrile, ordonate Ã®n cicluri R-I-A-S-E-C
    const questions = [
      // 1
      // { text: "ÃŽmi place sÄƒ repar obiecte.", type: "R" },
      { text: "ÃŽmi place sÄƒ analizez probleme È™tiinÈ›ifice.", type: "I" },
      { text: "ÃŽmi place sÄƒ desenez sau sÄƒ pictez.", type: "A" },
      { text: "ÃŽmi place sÄƒ Ã®i ajut pe ceilalÈ›i.", type: "S" },
      { text: "ÃŽmi place sÄƒ conduc proiecte.", type: "E" },
      { text: "ÃŽmi place sÄƒ lucrez cu date È™i cifre.", type: "C" },
      // 2
      // { text: "ÃŽmi place sÄƒ lucrez cu unelte.", type: "R" },
      { text: "ÃŽmi place sÄƒ scriu poveÈ™ti sau poezii.", type: "A" },
      { text: "ÃŽmi place sÄƒ urmez reguli È™i proceduri.", type: "C" },
      { text: "ÃŽmi place sÄƒ conving oamenii.", type: "E" },
      { text: "ÃŽmi place sÄƒ fac experimente.", type: "I" },
      { text: "ÃŽmi place sÄƒ predau sau sÄƒ instruiesc persoane.", type: "S" },
      // 3
      // { text: "ÃŽmi place sÄƒ lucrez afarÄƒ.", type: "R" },
      { text: "ÃŽmi place sÄƒ lucrez cu oameni mai mult decÃ¢t cu obiecte.", type: "S" },
      { text: "ÃŽmi place sÄƒ lucrez ordonat È™i organizat.", type: "C" },
      { text: "ÃŽmi place sÄƒ iau decizii rapide.", type: "E" },
      { text: "ÃŽmi place sÄƒ cÃ¢nt sau sÄƒ compun muzicÄƒ.", type: "A" },
      { text: "ÃŽmi place sÄƒ citesc articole È™tiinÈ›ifice.", type: "I" },
      // 4
      // { text: "ÃŽmi place sÄƒ conduc maÈ™ini sau utilaje.", type: "R" },
      { text: "ÃŽmi place sÄƒ Ã®mi asum riscuri.", type: "E" },
      { text: "ÃŽmi place sÄƒ ofer sprijin emoÈ›ional altora.", type: "S" },
      { text: "ÃŽmi place sÄƒ Ã®nvÄƒÈ› cum funcÈ›ioneazÄƒ lucrurile.", type: "I" },
      { text: "ÃŽmi place sÄƒ joc teatru.", type: "A" },
      { text: "ÃŽmi place sÄƒ fac calcule È™i statistici.", type: "C" },
      // 5
      // { text: "Prefer activitÄƒÈ›ile fizice faÈ›Äƒ de cele de birou.", type: "R" },
      { text: "ÃŽmi place sÄƒ introduc date pe calculator.", type: "C" },
      { text: "ÃŽmi place sÄƒ rezolv probleme abstracte.", type: "I" },
      { text: "ÃŽmi place sÄƒ creez ceva original.", type: "A" },
      { text: "ÃŽmi place sÄƒ lucrez Ã®n echipÄƒ.", type: "S" },
      { text: "ÃŽmi place sÄƒ organizez È™i sÄƒ coordonez activitÄƒÈ›i.", type: "E" },
      // 6
      // { text: "ÃŽmi place sÄƒ construiesc sau sÄƒ montez lucruri.", type: "R" },
      { text: "ÃŽmi place sÄƒ exprim idei prin artÄƒ.", type: "A" },
      { text: "ÃŽmi place sÄƒ folosesc matematica pentru a Ã®nÈ›elege fenomene.", type: "I" },
      { text: "ÃŽmi place sÄƒ ascult problemele oamenilor.", type: "S" },
      { text: "ÃŽmi place sÄƒ respect un program fix.", type: "C" },
      { text: "ÃŽmi place sÄƒ conduc o echipÄƒ.", type: "E" },
      // 7
      // { text: "ÃŽmi place sÄƒ rezolv probleme practice.", type: "R" },
      { text: "ÃŽmi place sÄƒ am sarcini clare È™i bine definite.", type: "C" }
      { text: "ÃŽmi place sÄƒ cercetez informaÈ›ii noi.", type: "I" },
      { text: "ÃŽmi place sÄƒ Ã®ncurajez È™i sÄƒ motivez pe alÈ›ii.", type: "S" },
      { text: "ÃŽmi place sÄƒ fiu creativ È™i spontan.", type: "A" },
      { text: "ÃŽmi place sÄƒ fiu lider.", type: "E" },
    ];

    // mapare RIASEC -> roluri
    const roleMapping = {
      // R: "PM â€“ Project Manager (Roadmap Keeper)",
      E: "Lider (coordonator / vision holder)",
      C: "PM â€“ Project Manager (Roadmap Keeper)",
      A: "Designer (Product & Experience Lead)",
      S: "Pitch & Storytelling Lead",
      I: "Analyst & Finance Lead",
    };

    const roleMappingShort = {
      // R: "PM",
      E: "Lider",
      C: "PM",
      A: "Designer",
      S: "Storytelling Lead",
      I: "Analyst & Finance Lead",
    };

    // descrieri scurte RIASEC
    const descriptions = {
      // R: "Realist (R): Preferi activitÄƒÈ›i practice, concrete, care implicÄƒ obiecte, unelte sau munca fizicÄƒ.",
      E: "ÃŽntreprinzÄƒtor (E): ÃŽÈ›i place sÄƒ conduci, sÄƒ organizezi, sÄƒ convingi È™i sÄƒ Ã®È›i asumi riscuri.",
      C: "ConvenÈ›ional (C): Preferi structura, ordinea, regulile clare È™i activitÄƒÈ›ile bine organizate.",
      A: "Artistic (A): EÈ™ti creativ(Äƒ), expresiv(Äƒ), Ã®È›i place arta, originalitatea È™i exprimarea liberÄƒ.",
      S: "Social (S): ÃŽÈ›i place sÄƒ lucrezi cu oameni, sÄƒ ajuÈ›i, sÄƒ sprijini È™i sÄƒ Ã®ncurajezi pe alÈ›ii.",
      I: "Investigativ (I): ÃŽÈ›i place sÄƒ analizezi, sÄƒ cercetezi, sÄƒ Ã®nÈ›elegi concepte È™i sÄƒ rezolvi probleme abstracte.",
    };

    const descriptions2 = {
      // R: "Preferi activitÄƒÈ›i practice, concrete, care implicÄƒ obiecte, unelte sau munca fizicÄƒ.",
      E: "ÃŽÈ›i place sÄƒ conduci, sÄƒ organizezi, sÄƒ convingi È™i sÄƒ Ã®È›i asumi riscuri.",
      C: "Preferi structura, ordinea, regulile clare È™i activitÄƒÈ›ile bine organizate.",
      A: "EÈ™ti creativ(Äƒ), expresiv(Äƒ), Ã®È›i place arta, originalitatea È™i exprimarea liberÄƒ.",
      S: "ÃŽÈ›i place sÄƒ lucrezi cu oameni, sÄƒ ajuÈ›i, sÄƒ sprijini È™i sÄƒ Ã®ncurajezi pe alÈ›ii.",
      I: "ÃŽÈ›i place sÄƒ analizezi, sÄƒ cercetezi, sÄƒ Ã®nÈ›elegi concepte È™i sÄƒ rezolvi probleme abstracte.",
    };

    const form = document.getElementById("riasecForm");

    // generÄƒm Ã®ntrebÄƒrile
    questions.forEach((q, index) => {
      const div = document.createElement("div");
      div.className = "question";
      div.innerHTML = `<p>${index + 1}. ${q.text}</p>
        <div class="options">
          ${[1,2,3,4,5].map(val => 
            `<label><input type="radio" name="q${index}" value="${val},${q.type}"> ${val}</label>`
          ).join(" ")}
        </div>`;
      form.appendChild(div);
    });

    let chart = null;

    function calculateResult() {
      // const scores = { R: 0, I: 0, A: 0, S: 0, E: 0, C: 0 };
      const scores = { E: 0, C: 0, A: 0, S: 0, I: 0 };
      const inputs = form.querySelectorAll("input[type=radio]:checked");

      inputs.forEach(input => {
        const [val, type] = input.value.split(",");
        scores[type] += parseInt(val);
      });

      // gÄƒsim categoria dominantÄƒ
      let max = Math.max(...Object.values(scores));
      let dominant = Object.keys(scores).filter(k => scores[k] === max);

      // afiÈ™Äƒm scorurile
      // document.getElementById("result").innerText = "\nTipul tÄƒu dominant: " + dominant.join(", ");

      // descriere + rol asociat
      document.getElementById("description").innerHTML =
        "<h3>Interpretare</h3>" +
        dominant.map(d => 
          `<p>${descriptions2[d]}<br><b><i>Rol asociat:</i> ${roleMapping[d]}</b></p>`
        ).join("");

      // desenÄƒm graficul
      const ctx = document.getElementById("riasecChart").getContext("2d");
      if (chart) chart.destroy();
      chart = new Chart(ctx, {
        type: "bar",
        data: {
          // labels: [roleMappingShort['R'], roleMappingShort['I'], roleMappingShort['A'], roleMappingShort['S'], roleMappingShort['E'], roleMappingShort['C']],
          labels: [roleMappingShort['E'], roleMappingShort['C'], roleMappingShort['A'], roleMappingShort['S'], roleMappingShort['I']],
          datasets: [{
            label: "Scor",
            // data: [scores.R, scores.I, scores.A, scores.S, scores.E, scores.C],
            data: [
              scores.E,
              scores.C,
              scores.A,
              scores.S,
              scores.I,
            ],
            backgroundColor: ["#dc3545", "#6c757d", "#ffc107",  "#17a2b8", "#28a745",]
          }]
        },
        options: {
          scales: { y: { beginAtZero: true, max: 35 } }
        }
      });
    }
  </script>
</body>
</html>
